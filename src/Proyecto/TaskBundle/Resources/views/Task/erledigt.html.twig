{# empty Twig template #}{% extends '::principal.html.twig' %}

{% block js %}
    <script type="text/javascript" src="{{ asset('bundles/tarea/js/jquery-1.9.1.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/tarea/js/bootstrap.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/tarea/js/collapse.js') }}"></script>
    <script>
        //----------para desplegar las listas de tareas
        $(function () {
            $('.collapse').collapse({
                toggle: true
            });
        });
        //------------------funcion para adicionar Clientes
        $(document).ready(function () {
            $("#btn-adicionarListen").click(function () {
                if ($("#txt-neueListen").val() !== "") {
                    $("#ul-lista").append("<li>" + $("#txt-neueListen").val() + "</li>");
                    $("#txt-neueListen").val("").focus();
                }
                else {
                    $("#ul-lista").append("<li>" + "Neue Liste " + "</li>");
                    $("#txt-neueListen").val("").focus();
                }
            });
        });
    </script>

{% endblock %}

{% block lateral %}
    <div class="col-xs-2">
        <div class="row">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <div class="panel-title"><strong>{{ "Fokus"|trans }}</strong>

                    </div>
                    <div style="float:right; font-size: 80%; position: relative; top:-10px"></div>
                </div>
                <li class="list-group-item">
                    <span class="badge">1</span>
                    <span class="glyphicon glyphicon-list-alt"><a href="{{ path("tasklist") }}">{{ ' Alle Aufgaben'|trans }}</a></span>
                </li>
                <li class="list-group-item">
                    <span class="badge">1</span>
                    <span class="glyphicon glyphicon-time"><a href="{{ path("taskHeute") }}">{{ ' Heute'|trans }}</a></span>
                </li>
                <li class="list-group-item">
                    <span class="badge">1</span>
                    <span class="glyphicon glyphicon-ok"><a href="{{ path("taskErledig") }}">{{ ' Erledigt'|trans }}</a></span>
                </li>
            </div>
        </div>
        {#-- listen ----------------------------------------#}
        <div class="row">
            <div class="panel-group" id="accordion-listen" role="tablist" aria-multiselectable="true">
                <div class="panel panel-info">
                    <div class="panel-heading" role="tab" id="headingOne">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseListen" aria-expanded="true" aria-controls="collapseOne">
                                <strong>{{ 'Listen'|trans }} </strong>
                            </a>
                        </h4>
                    </div>
                    <div id="collapseListen" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                        <div class="panel-body">
                            <form class='form-inline' action='{{ path('client_create') }}' method='post'> 

                                <div class="form-group">
                                    {# {{ form_widget(form.name,  { 'attr': {'class': 'form-control','placeholder':'Name'|trans } }) }}#}

                                    <input type="text" class="form-control" name="form[name]" id="txt-neueListen" placeholder="{{ "Neue Listen"|trans }}" />
                                    {# {{ form_widget(form.name) }}  {{ form_enctype(form) }}#}
                                    <button id="btn-adicionarListen" type="button" class="btn btn-info" method="submit" href="{{ path('client_create') }}">
                                        <span class="glyphicon glyphicon-plus-sign"></span>
                                    </button>
                                </div>
                                {# <div class='form-group'>
                                     {{ form_widget(form.name,  { 'attr': {'class': 'form-control','placeholder':'Name'|trans } }) }}
                                 </div>#}
                            </form>
                            {# <form class="form-inline" role="form" method="post">
                                 <div class="form-group">
                                     {#<label for="inputEmail3" class="control-label">{{ "Name: "|trans }}</label>#}
                            {#<div class="col-sm-10">
                                {#{{ form_widget(form.name) }}#}
                            {# <input type="text" class="form-control" id="neueListen" placeholder="{{ "Neue Listen"|trans }}" name="name">
                         </div>
                     </div>
                     <div class="form-group">
                         <div>
                             <button id="adicionarListen" type="submit" class="btn btn-info center-block" href="{{ path('client') }}">
                                <span class="glyphicon glyphicon-plus-sign pull-right">{{ "Speichern"|trans }}  </span>
                             </button>
                         </div>
                     </div>
                 </form>#}

                        </div>
                    </div>
                    <div>
                        <ul id="ul-lista"> {#---------------listar los clientes registrados#}
                            {% for client in clients %}
                                <li><a href="{{ path('tasksClient', { 'id': client.id }) }}">{{ client.name }}</a></li>                                
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock lateral %}

{% block body -%}
    <div class="col-xs-10">
        <div class="panel panel-info">
            <div class="panel-heading">
                <div class="panel-title"><strong>{{ "Alle Aufgaben"|trans }}</strong>
                        {# <a class="btn btn-info pull-right" href="{{ path("register") }}"><span class="glyphicon glyphicon-plus-sign"></span> Neue Benutzer </a>
                 #}
                </div>
                <div style="float:right; font-size: 80%; position: relative; top:-10px">{#<a href="#">Forgot password?</a>#}</div>
            </div>
            {% if tasks|length > 0 %}
                <table class="table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Image</th>
                            <th>Beginningdate</th>
                            <th>Endingdate</th>
                            <th>Notas</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for task in tasks %}
                            <tr>
                                <td><a href="{{ path('task_edit', { 'id': task.id }) }}">{{ task.name }}</a></td>
                                <td>{{ task.image }}</td>
                                <td>{% if task.beginningDate %}{{ task.beginningDate|date('Y-m-d H:i:s') }}{% endif %}</td>
                                <td>{% if task.endingDate %}{{ task.endingDate|date('Y-m-d H:i:s') }}{% endif %}</td>
                                <td>{{ task.notas }}</td>
                                <td><a href="{{ path('task_delete', { 'id': task.id }) }}">Delete</a></td>
                                {# <td>
                                     <ul>
                                         <li>
                                             <a href="{{ path('task_show', { 'id': entity.id }) }}">show</a>
                                         </li>
                                         {#<li>
                                             <a href="{{ path('task_edit', { 'id': entity.id }) }}">edit</a>
                                         </li>#}
                                {# </ul>
                             </td>#}
                            </tr>
                        {% endfor %}
                    {% else %}
                    <em>{{ "Kein task"|trans }}</em>
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}